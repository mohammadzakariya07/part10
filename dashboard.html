<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Smart Aadhaar Dashboard</title>

<style>
body{font-family:Arial;background:#eef2f5;padding:20px}
.top-bar{display:flex;justify-content:space-between;align-items:center}
.card{background:#fff;padding:20px;margin:15px 0;border-left:6px solid #003366;cursor:pointer}
.card:hover{background:#f4f8ff}
button{padding:8px 14px;margin-top:8px}
#popup{display:none;position:fixed;inset:0;background:rgba(0,0,0,.5)}
.popup-box{background:#fff;width:480px;margin:50px auto;padding:20px;border-radius:8px}
input,textarea,select{width:100%;margin-top:6px;padding:6px}
footer{text-align:center;margin-top:40px;color:gray;font-size:13px}
</style>
</head>

<body onload="checkSession()">

<div class="top-bar">
  <h2>Smart Aadhaar Center Monitoring System</h2>
  <div>
    <span id="timer"></span>
    <button onclick="logout()">Logout</button>
  </div>
</div>

<hr>

<!-- MAIN OPTIONS -->
<div id="mainOptions">
  <div class="card" id="updateBtn">Update Aadhaar Card</div>
  <div class="card" id="freshBtn">Fresh Aadhaar Apply</div>
</div>

<!-- UPDATE OPTIONS -->
<div id="updateOptions" style="display:none">
<h3>Select Update Type</h3>
<button onclick="openUpdate('name')">Update Name</button>
<button onclick="openUpdate('gender')">Update Gender</button>
<button onclick="openUpdate('address')">Update Address</button>
<button onclick="openUpdate('mobile')">Update Mobile</button>
<button onclick="openUpdate('email')">Update Email</button>
<button onclick="openUpdate('biometric')">Update Biometrics</button>
<button onclick="openUpdate('combined')">Update All</button>
</div>

<!-- POPUP -->
<div id="popup">
<div class="popup-box">
<h3 id="popupTitle"></h3>
<div id="popupBody"></div>
<br>
<button type="button" id="submitBtn">Submit</button>
<button type="button" onclick="closePopup()">Cancel</button>
</div>
</div>

<footer>
Designed & Developed by <b>Mohammad Zakariya</b><br>
<a href="mailto:mzakariya0007@gmail.com">mzakariya0007@gmail.com</a>
</footer>

<script src="dashboard.js"></script>

<script>
/* ===============================
   GLOBAL (VERY IMPORTANT)
================================ */
const SCRIPT_URL="https://script.google.com/macros/s/AKfycbwWw4WdCD4pZw5syqi2jOu_Xfr_FQB5yjfZ3-BhusvxStKDZksCmpPTdPCrr-RRynsy/exec";

let service="";
let updateType="";

/* ===============================
   EVENT BINDING (NO INLINE onclick)
================================ */
document.getElementById("updateBtn").addEventListener("click", showUpdateOptions);
document.getElementById("freshBtn").addEventListener("click", freshApply);
document.getElementById("submitBtn").addEventListener("click", submitData);

/* ===============================
   FUNCTIONS (GLOBAL SCOPE)
================================ */
function showUpdateOptions(){
  service="Update_Aadhaar_Card";
  document.getElementById("mainOptions").style.display="none";
  document.getElementById("updateOptions").style.display="block";
}

function freshApply(){
  service="Fresh_Aadhaar_Apply";
  document.getElementById("popup").style.display="block";
  document.getElementById("popupTitle").innerText="Fresh Aadhaar Application";
  document.getElementById("popupBody").innerHTML=`
    Name:<input id="name">
    Gender:<select id="gender">
      <option>Male</option><option>Female</option>
      <option>Transgender</option><option>Other</option>
    </select>
    Address:<textarea id="address"></textarea>
    Mobile:<input id="mobile">
    Email:<input id="email">
  `;
}

function openUpdate(type){
  updateType=type;
  document.getElementById("popup").style.display="block";
  document.getElementById("popupTitle").innerText="Update Aadhaar";
  document.getElementById("popupBody").innerHTML=`
    Old Value:<input id="old">
    New Value:<input id="new">
  `;
}

function submitData(){
  alert("Submit working âœ”");
}

function closePopup(){
  document.getElementById("popup").style.display="none";
}
</script>

</body>
</html>
